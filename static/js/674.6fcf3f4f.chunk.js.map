{"version":3,"file":"static/js/674.6fcf3f4f.chunk.js","mappings":"uQACA,EAA4B,4BAA5B,EAAgE,wBAAhE,EAA+F,uBAA/F,EAA6H,uB,SCmD7H,EA9CiB,WACf,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,gHAESC,EAAAA,EAAAA,MAFT,gBAENC,EAFM,EAENA,KACRR,GAAS,SAAAS,GACP,MAAM,GAAN,eAAWA,IAAX,OAAyBD,EAAKE,SAC/B,IALa,gDAOdR,EAAS,KAASS,SAAW,sBAPf,qGAAH,qDAYfL,GACD,GAAE,IAEH,IAAMM,EAAWb,EAAMc,KAAI,SAAAC,GAAI,OAC7B,yBACE,UAAC,KAAD,CACEC,UAAWC,EACXC,GAAE,kBAAaH,EAAKI,IACpBnB,MAAO,CAAEoB,KAAMhB,GAHjB,WAKE,cAAGY,UAAWC,EAAd,SAA0BF,EAAKM,SAC/B,gBACEC,IAAG,0CAAqCP,EAAKQ,aAC7CC,IAAKT,EAAKM,MACVI,MAAO,UAVJV,EAAKI,GADe,IAiB/B,OACE,iBAAKH,UAAWC,EAAhB,UACIf,IAAS,uBAAIA,KACf,eAAIc,UAAWC,EAAf,6BACA,eAAID,UAAWC,EAAf,SAA0BJ,MAG/B,C,2JCjDKa,E,OAAiBC,EAAAA,OAAa,CAClCC,QAAS,+BACTC,OAAO,CACPC,QAAQ,sCAIGtB,EAAY,WACvB,OAAOkB,EAAeK,IAAI,sBAC3B,EAEYC,EAAkB,SAACb,GAC9B,OAAOO,EAAeK,IAAf,iBAA6BZ,GACrC,EAEYc,EAAkB,SAACd,GAC9B,OAAOO,EAAeK,IAAf,iBAA6BZ,EAA7B,YACR,EACYe,EAAkB,SAACf,GAC9B,OAAOO,EAAeK,IAAf,iBAA6BZ,EAA7B,YACR,EAEYgB,EAAkB,SAACC,GAC9B,OAAOV,EAAeK,IAAI,gBAAiB,CACzCF,OAAQ,CACNQ,cAAe,QACfC,KAAM,EACNF,MAAAA,IAEL,C","sources":["webpack://react-homework-template/./src/pages/HomePage/HomePage.module.css?5baa","pages/HomePage/HomePage.jsx","services/moviesAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"HomePage_container__uNu-e\",\"title\":\"HomePage_title__UFLA3\",\"list\":\"HomePage_list__99c8-\",\"link\":\"HomePage_link__-d+Of\"};","import { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { getMovies } from 'services/moviesAPI';\n\nimport css from './HomePage.module.css';\n\nconst HomePage = () => {\n  const [state, setState] = useState([]);\n  const [error, setError] = useState('');\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const { data } = await getMovies();\n        setState(prevState => {\n          return [...prevState, ...data.results];\n        });\n      } catch ( response ) {\n        setError(response.message || 'Oops sothing wrong');\n      } finally {\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const elements = state.map(item => (\n    <li key={item.id}>\n      <Link\n        className={css.link}\n        to={`/movies/${item.id}`}\n        state={{ from: location }}\n      >\n        <p className={css.title}>{item.title}</p>\n        <img\n          src={`https://image.tmdb.org/t/p/w500/${item.poster_path}`}\n          alt={item.title}\n          width={350}\n        />\n      </Link>\n    </li>\n  ));\n\n  return (\n    <div className={css.container}>\n       {error && <p>{error}</p>}\n      <h3 className={css.title}>Trending Today</h3>\n      <ul className={css.list}>{elements}</ul>\n    </div>\n  );\n};\nexport default HomePage;\n","import axios from \"axios\";\n\nconst moviesInstance = axios.create({\n  baseURL: \"https://api.themoviedb.org/3\",\n  params:{\n  api_key:\"7655faabc717e4bac2b661555353909e\"\n  }\n});\n\nexport const getMovies = () => {\n  return moviesInstance.get('/trending/movie/day');\n};\n\nexport const getMovieDetails = (id) => {\n  return moviesInstance.get(`/movie/${id}`)\n}\n\nexport const getMovieCredits = (id) => {\n  return moviesInstance.get(`/movie/${id}/credits`)\n}\nexport const getMovieReviews = (id) => {\n  return moviesInstance.get(`/movie/${id}/reviews`)\n}\n\nexport const getSearchMovies = (query) => {\n  return moviesInstance.get('/search/movie', {\n    params: {\n      include_adult: 'false',\n      page: 1,\n      query,\n  } })\n}\n\n"],"names":["useState","state","setState","error","setError","location","useLocation","useEffect","fetchData","getMovies","data","prevState","results","message","elements","map","item","className","css","to","id","from","title","src","poster_path","alt","width","moviesInstance","axios","baseURL","params","api_key","get","getMovieDetails","getMovieCredits","getMovieReviews","getSearchMovies","query","include_adult","page"],"sourceRoot":""}