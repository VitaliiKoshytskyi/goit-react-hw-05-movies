{"version":3,"file":"static/js/600.600e6407.chunk.js","mappings":"oOACA,EAAuB,yB,0BCAvB,GAAgB,UAAY,8B,SCyC5B,EApCkB,SAAC,GAAkB,IAAhBA,EAAe,EAAfA,SACnB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAaA,OACI,mBAAQC,UAAWC,EAAAA,UAAnB,UACE,kBAAMD,UAAWC,EAAAA,KAAUL,SARZ,SAAAM,GACnBA,EAAMC,iBACNP,EAASE,GACTC,EAAS,GACV,EAIK,WACE,mBAAQK,KAAK,SAASJ,UAAWC,EAAAA,OAAjC,UACE,iBAAMD,UAAWC,EAAAA,aAAjB,uBAGF,kBACEI,KAAK,SACLC,MAAOR,EACPS,SArBW,SAAAL,GACnB,IAAMM,EAASN,EAAMO,OAAOH,MAC5BP,EAASS,EACV,EAmBSR,UAAWC,EAAAA,MACXG,KAAK,OACLM,aAAa,MACbC,WAAS,EACTC,YAAY,qBAKvB,E,SCuBD,EAvDmB,WACjB,OAA4Bf,EAAAA,EAAAA,UAAS,IAArC,eAAOgB,EAAP,KAAeC,EAAf,KACA,GAA0BjB,EAAAA,EAAAA,UAAS,IAAnC,eAAOkB,EAAP,KAAcC,EAAd,KACA,GAA0BnB,EAAAA,EAAAA,UAAS,MAAnC,eAAOoB,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMb,EAASY,EAAaE,IAAI,UAE1BC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,gHAESC,EAAAA,EAAAA,IAAgBnB,GAFzB,gBAENoB,EAFM,EAENA,KACRV,EAASU,EAAKC,eACdf,GAAU,SAAAgB,GACR,MAAM,GAAN,eAAWA,IAAX,OAAyBF,EAAKG,SAC/B,IANa,gDAQdf,EAAS,KAASgB,SAAW,sBARf,yDAAH,qDAWXxB,GACFkB,GAEH,GAAE,CAAClB,IAEJ,IAKMyB,EAAWpB,EAAOqB,KAAI,SAAAC,GAC1B,IAAMC,EACmB,OAAvBD,EAAKE,cACD,+EADJ,0CAEuCF,EAAKG,aAC9C,OACE,yBACE,UAAC,KAAD,CAAMC,GAAE,kBAAaJ,EAAKK,IAAM1C,MAAO,CAAE2C,KAAMlB,GAA/C,WACE,uBAAIY,EAAKO,SACT,gBAAKC,IAAKP,EAAcQ,IAAKT,EAAKO,MAAOG,MAAM,YAH1CV,EAAKK,GAOjB,IAED,OACE,4BACE,SAAC,EAAD,CAAW5C,SAtBM,SAAAY,GACnBM,EAAU,IACVO,EAAgB,CAAEb,OAAAA,GACnB,IAoBIK,EAAOiC,OAAS,IAAK,eAAI9C,UAAWC,EAAf,SAA0BgC,IAC/ClB,IAAS,uBAAIA,IACH,IAAVE,IAAc,sDAGpB,C,2JC5DK8B,E,OAAiBC,EAAAA,OAAa,CAClCC,QAAS,+BACTC,OAAO,CACPC,QAAQ,sCAIGC,EAAY,WACvB,OAAOL,EAAezB,IAAI,sBAC3B,EAEY+B,EAAkB,SAACb,GAC9B,OAAOO,EAAezB,IAAf,iBAA6BkB,GACrC,EAEYc,EAAkB,SAACd,GAC9B,OAAOO,EAAezB,IAAf,iBAA6BkB,EAA7B,YACR,EACYe,EAAkB,SAACf,GAC9B,OAAOO,EAAezB,IAAf,iBAA6BkB,EAA7B,YACR,EAEYb,EAAkB,SAAC6B,GAC9B,OAAOT,EAAezB,IAAI,gBAAiB,CACzC4B,OAAQ,CACNO,cAAe,QACfC,KAAM,EACNF,MAAAA,IAEL,C","sources":["webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","pages/MoviesPage/MoviesPage.jsx","services/moviesAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesPage_list__PJZqT\"};","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"SearchBar_Searchbar__qe5Sc\"};","import { useState } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport css from './SearchBar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [state, setState] = useState('');\n\n  const handleChange = event => {\n    const search = event.target.value;\n    setState(search);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(state);\n    setState('');\n  };\n\n  return (\n      <header className={css.Searchbar}>\n        <form className={css.form} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={css.button}>\n            <span className={css.button_label}>Search</span>\n          </button>\n\n          <input\n            name=\"search\"\n            value={state}\n            onChange={handleChange}\n            className={css.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search films\"\n          />\n        </form>\n      </header>\n  );\n};\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};","import css from './MoviesPage.module.css';\n\nimport { useState, useEffect } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\n\nimport Searchbar from 'components/SearchBar/SearchBar';\nimport { getSearchMovies } from 'services/moviesAPI';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState('');\n  const [total, setTotal] = useState(null)\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const { data } = await getSearchMovies(search);\n        setTotal(data.total_results )\n        setMovies(prevState => {\n          return [...prevState, ...data.results];\n        });\n      } catch (response) {\n        setError(response.message || 'Oops sothing wrong');\n      }\n    };\n    if (search) {\n      fetchData();\n    }\n  }, [search]);\n\n  const updateSearch = search => {\n    setMovies([]);\n    setSearchParams({ search });\n  };\n\n  const elements = movies.map(item => {\n    const itembackdrop =\n      item.backdrop_path === null\n        ? 'https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg'\n        : `https://image.tmdb.org/t/p/w500/${item.poster_path}`;\n    return (\n      <li key={item.id}>\n        <Link to={`/movies/${item.id}`} state={{ from: location }}>\n          <p>{item.title}</p>\n          <img src={itembackdrop} alt={item.title} width=\"200\" />\n        </Link>\n      </li>\n    );\n  });\n\n  return (\n    <div>\n      <Searchbar onSubmit={updateSearch} />\n      {movies.length > 0 && <ul className={css.list}>{elements}</ul>}\n      {error && <p>{error}</p>}\n      {total === 0 &&<p>Ooopps! we found nothing</p>}\n    </div>\n  );\n};\nexport default MoviesPage;\n","import axios from \"axios\";\n\nconst moviesInstance = axios.create({\n  baseURL: \"https://api.themoviedb.org/3\",\n  params:{\n  api_key:\"7655faabc717e4bac2b661555353909e\"\n  }\n});\n\nexport const getMovies = () => {\n  return moviesInstance.get('/trending/movie/day');\n};\n\nexport const getMovieDetails = (id) => {\n  return moviesInstance.get(`/movie/${id}`)\n}\n\nexport const getMovieCredits = (id) => {\n  return moviesInstance.get(`/movie/${id}/credits`)\n}\nexport const getMovieReviews = (id) => {\n  return moviesInstance.get(`/movie/${id}/reviews`)\n}\n\nexport const getSearchMovies = (query) => {\n  return moviesInstance.get('/search/movie', {\n    params: {\n      include_adult: 'false',\n      page: 1,\n      query,\n  } })\n}\n\n"],"names":["onSubmit","useState","state","setState","className","css","event","preventDefault","type","name","value","onChange","search","target","autoComplete","autoFocus","placeholder","movies","setMovies","error","setError","total","setTotal","useSearchParams","searchParams","setSearchParams","get","location","useLocation","useEffect","fetchData","getSearchMovies","data","total_results","prevState","results","message","elements","map","item","itembackdrop","backdrop_path","poster_path","to","id","from","title","src","alt","width","length","moviesInstance","axios","baseURL","params","api_key","getMovies","getMovieDetails","getMovieCredits","getMovieReviews","query","include_adult","page"],"sourceRoot":""}